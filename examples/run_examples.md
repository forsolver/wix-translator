# Примеры запуска Wix Translator

## Базовый запуск

```bash
python parser.py export_en.csv translated_output.csv
```

## Запуск с ограничением строк (для тестирования)

```bash
python parser.py export_en.csv test_output.csv --limit 100
```

## Параметры запуска

- `input_file` - путь к исходному CSV файлу
- `output_file` - путь к выходному CSV файлу  
- `--limit` - ограничить количество обрабатываемых строк (для тестирования)

## Структура CSV файла

Система автоматически определяет языковые колонки:

- **Исходная колонка**: должна содержать слова "source" и "language" в названии
- **Целевые колонки**: должны содержать слова "target" и "language" в названии

Пример заголовков:
```
Source Language (EN), Target Language (DE), Target Language (FR), Type
```

## Поддерживаемые типы строк

Система переводит только следующие типы строк:

- `catalog-product` - продукты каталога
- `wysiwyg.viewer.components.WRichText` - богатый текст
- `document.api.MenuService.Menu` - меню (только теги `<label>`)

Строки типа `offline_payment_method` пропускаются.

## Поддерживаемые HTML теги

### Обычные элементы:
- `<b>` - жирный текст
- `<h1>`, `<h2>` - заголовки  
- `<li>` - элементы списка
- `<ol>`, `<ul>` - списки
- `<p>` - параграфы

### Специальные элементы (только для меню):
- `<label>` - метки меню

## Кэширование

Система автоматически кэширует переводы в файл `.translation_cache.json`. При повторном запуске уже переведенные тексты будут взяты из кэша, что существенно ускорит обработку.

## Производительность

- Батчевая обработка - все тексты одного типа тегов переводятся одним запросом к OpenAI
- Фильтрация дублей - повторяющиеся тексты не отправляются в API повторно
- Асинхронная обработка - максимальная скорость работы с OpenAI API
- Кэширование - переведенные тексты сохраняются для повторного использования 