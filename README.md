# Wix CSV Переводчик

Инструмент для автоматического перевода CSV файлов Wix с использованием OpenAI API.

## Структура проекта

```
├── input/              # Исходные CSV файлы для перевода
├── output/             # Переведенные CSV файлы
├── cache/              # Кэш переводов для оптимизации
├── docs/               # Документация проекта
├── examples/           # Примеры использования
├── parser.py           # Основной скрипт переводчика
├── requirements.txt    # Зависимости Python
└── .env               # Настройки (OpenAI API ключ)
```

## Быстрый старт

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Настройте OpenAI API ключ в файле `.env`:
```
OPENAI_API_KEY=your_api_key_here
```

3. Поместите CSV файлы для перевода в папку `input/`

4. Запустите перевод:
```bash
# Простое использование (файл автоматически ищется в input/)
python parser.py export_en.csv

# С указанием выходного файла
python parser.py export_en.csv --output my_translation.csv

# Ограничить количество строк для тестирования
python parser.py export_en.csv --limit 100
```

## Возможности

- **Батчевый перевод**: оптимизированные запросы к OpenAI API
- **Кэширование**: переводы сохраняются для повторного использования
- **Фильтрация контента**: перевод только релевантных элементов Wix
- **HTML теги**: корректная обработка HTML разметки
- **Прогресс-бар**: отслеживание прогресса перевода

## Структура файлов

### input/
Поместите здесь исходные CSV файлы экспорта из Wix. Поддерживаются файлы с различными языковыми колонками.

### output/
Переведенные файлы автоматически сохраняются здесь с суффиксом `_translated`. Структура исходного файла сохраняется.

### cache/
Содержит файл `translation_cache.json` с кэшированными переводами. Это позволяет:
- Экономить время при повторных переводах
- Снижать расходы на API
- Продолжать работу после прерывания

## Примеры использования

```bash
# Перевести файл из папки input
python parser.py my_export.csv

# Результат будет сохранен в output/my_export_translated.csv

# Указать конкретное имя выходного файла
python parser.py my_export.csv -o final_translation.csv

# Результат будет в output/final_translation.csv

# Протестировать на первых 50 строках
python parser.py my_export.csv --limit 50
```

## Требования

- Python 3.7+
- OpenAI API ключ
- Интернет соединение для API запросов

## Поддерживаемые типы контента

Переводятся только определенные типы элементов Wix:
- `catalog-product`
- `wysiwyg.viewer.components.WRichText`
- `document.api.MenuService.Menu`

HTML теги для перевода:
- Обычный контент: `b`, `h1`, `h2`, `li`, `ol`, `p`, `ul`
- Меню: `label` 